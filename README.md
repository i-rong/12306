# 12306
# 坐席类别
    # 特等座 P 选座只有A、C、F
    # 商务座 9 选座只有A、C、F
    # 一等座 M 选座为A、C、D、F
    # 二等座 O 选座为A、B、C、D、F（不是0，是大写的字母偶）

    # 高级动卧 A 不能选铺位
    # 高级软卧 6 不能选铺位
    # 一等卧 I 不能选铺位
    # 动卧 F 下铺 上铺
    # 二等卧 J 不能选铺位？

    # 硬座 1 不能选座
    # 软座 2 不能选座
    # 硬卧 3 下铺 中铺 上铺
    # 软卧 4 下铺 上铺
    
# 配置文件 config.properties
```
username=12306账号
password=12306密码
trainCode=订票车次（可多个车次，多个车次以英文逗号隔开，优先匹配前面的）
seatType=席别（上面坐席类别说明中）
date=车次日期，格式为yyyy-MM-dd，例如 2023-09-19）
from=出发站
to=到达站
passengers=乘客（可多个，名字以英文逗号隔开）
castNum=登录用户的身份证的后4位，获取短信验证码用
chooseSeats=选择动车/高铁坐席（高铁坐席一般为A、B、C, D、F，一人的话可以设置1F，1A等，两人的话为1D1F，或1F2F）
seatDetailType=卧铺（100为1个下铺，200为两个下铺，依次类推。101为1个下铺和上铺，211为2个下铺，一个中铺，一个上铺）
purpose_codes=（ADULT: 成人，0x00: 学生）
timesBetweenTwoQuery=两次查询的时间间隔（单位为秒），设置后自动查询余票（候补下单设置时默认会取消自动查询）
candidate=1（1为候补下单）
aftertime=12:00（只看几点以后的车次，仅当未设置订票车次时生效）
```
配置config.properties后，执行qr.py，resource目录下打开qr_image.jpg，手机12306 app扫码登录后，可自动购票。  

或执行login.py，通过账号密码方式自动登录后购票。

暂只支持单程票。

[//]: # (查询余票时，学生票purpose_codes为0x00，成人为ADULT)

微信小程序二维码


![image](https://github.com/johnshazhu/12306/assets/4417559/bf99a7f0-e049-4306-b5ff-a3d30ac204a0)


[//]: # ()
[//]: # (passengerInfo_js.js中调用n&#40;&#41;来获取encryptedData)

[//]: # (```)

[//]: # (    function n&#40;&#41; {)

[//]: # (        var x = "";)

[//]: # (        try {)

[//]: # (            x = window.json_ua.toString&#40;&#41;)

[//]: # (        } catch &#40;y&#41; {)

[//]: # (            x = "")

[//]: # (        })

[//]: # (        return x)

[//]: # (    })

[//]: # (```)

[//]: # ()
[//]: # (suite1608722853171.js中获取encryptedData的大致流程)

[//]: # ()
[//]: # (```)

[//]: # (Wa - Os - je - Rc - Ac - hs - Ce - Q - gc&#40;19&#41; - Or&#40;0&#41; c981-- 循环 981 = c0 - Or&#40;19&#41;)

[//]: # ()
[//]: # (Or&#40;19&#41; - ob - Be - $e - Ie - Oe - xe - Cs - Vc - mc - C - Xc - Kc - R - jc&#40;0&#41; - 981 = c3 - ba&#40;1&#41;)

[//]: # ()
[//]: # (ba&#40;1&#41; - ab - Rs&#40;0&#41; - 981 = c4 --- c979 > c974.length - Sa&#40;0&#41;)

[//]: # ()
[//]: # (Sa&#40;0&#41; - Qc - Ze&#40;0&#41; - 981-- Rs&#40;6&#41;)

[//]: # ()
[//]: # (Ze&#40;11&#41; - Ks - Nc - k&#40;0&#41; 14 c981 = c9 - k&#40;15&#41;判断c981 是否大于0 981 == 0时Sr&#40;10&#41;  19 - vc&#40;0&#41;)

[//]: # ()
[//]: # (vc&#40;0&#41; - Hc - Se - rb - Sr&#40;0&#41; 9 981-- k&#40;15&#41;)

[//]: # ()
[//]: # (Sr&#40;10&#41; - se&#40;0&#41; - Ja&#40;0&#41; - Z - fs - ua - fa&#40;17&#41; - ma&#40;0&#41; - Oc - Ls&#40;2&#41; c981-- fa&#40;0&#41; ---循环（ma, Oc, Ls&#41;)

[//]: # ()
[//]: # (fa&#40;6&#41; -- c981.length == 0时Ls&#40;3&#41;)

[//]: # ()
[//]: # (Ls&#40;3&#41; - W&#40;0&#41; - la - ks - Ge - Ys - ja)

[//]: # (```)
